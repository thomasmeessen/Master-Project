(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     13747,        322]
NotebookOptionsPosition[     12552,        296]
NotebookOutlinePosition[     12886,        311]
CellTagsIndexPosition[     12843,        308]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["Data from the sensor sheet and unit conversion", "Text",
 CellChangeTimes->{{3.762849773301487*^9, 
  3.7628498190914927`*^9}},ExpressionUUID->"d509c77c-f291-4c78-adb1-\
067bea8a9111"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"sensor", " ", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0.000", ",", " ", "0.0000"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"50.000", ",", " ", "0.4049"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"100.000", ",", " ", "0.8093"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"150.000", ",", " ", "1.2131"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"200.000", ",", " ", "1.6161"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"250.000", ",", " ", "2.0188"}], "}"}]}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sensor", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "1"}], "]"}], "]"}], " ", "=", " ", 
   RowBox[{"UnitConvert", "[", 
    RowBox[{
     RowBox[{"Quantity", "[", 
      RowBox[{
       RowBox[{"sensor", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", "\"\<lb\>\""}], "]"}], 
     ",", " ", "\"\<kg\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sensor", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "2"}], " ", "]"}], "]"}], " ", "=", " ", 
   RowBox[{"Quantity", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"sensor", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2"}], "]"}], "]"}], "10"}], ",", "\"\<mV\>\""}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.762784668122809*^9, 3.7627847149885178`*^9}, {
   3.762785040969942*^9, 3.7627851122804728`*^9}, {3.762785146146653*^9, 
   3.7627852008827457`*^9}, {3.7627852891573553`*^9, 3.762785445393875*^9}, {
   3.762785491368922*^9, 3.762785492000832*^9}, {3.762785552204699*^9, 
   3.762785553461063*^9}, {3.762847028563765*^9, 3.762847128485139*^9}, {
   3.762847179557563*^9, 3.76284717971558*^9}, 3.762847223172456*^9, {
   3.762847379423044*^9, 3.7628473977568274`*^9}, {3.7628475618261423`*^9, 
   3.762847562381753*^9}, 3.7628488736538467`*^9, {3.762848956172097*^9, 
   3.762848965040771*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"8baa1091-7813-4558-96ed-643a390a3836"],

Cell["Data from the amplifier sheet", "Text",
 CellChangeTimes->{{3.762849805248742*^9, 
  3.762849812856552*^9}},ExpressionUUID->"b779327a-5659-4a44-8aac-\
96f76e5b4330"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"amplifierInputVoltage", " ", "=", " ", 
   RowBox[{"Quantity", "[", 
    RowBox[{"20", ",", "\"\<V\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"gain", " ", "=", " ", 
   RowBox[{"Quantity", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "0.5", ",", "1", ",", "1.5", ",", "2", ",", "2.5", ",", "3", ",", "4", 
       ",", "10"}], "}"}], ",", "\"\<mV/V\>\""}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.762846876113806*^9, 3.762846907051701*^9}, {
   3.762847436728788*^9, 3.762847523770986*^9}, {3.762847598268463*^9, 
   3.762847608199121*^9}, 3.762847764253975*^9, {3.762847813906232*^9, 
   3.76284781714456*^9}, 3.762847852028942*^9, {3.7628479139676857`*^9, 
   3.762847960435006*^9}},
 CellLabel->"In[4]:=",ExpressionUUID->"d8d5bbc1-d8cd-4713-a993-3de8c5c922b4"],

Cell["Representing the impact of the gain choice", "Text",
 CellChangeTimes->{{3.762849823373374*^9, 
  3.7628498342271843`*^9}},ExpressionUUID->"5ba359d2-0809-499e-9eb0-\
2370ab483667"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"man", " ", "=", " ", 
  RowBox[{"Manipulate", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"afterGain", " ", "=", " ", "sensor"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"afterGain", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2"}], " ", "]"}], "]"}], " ", "=", " ", 
      RowBox[{
       RowBox[{"sensor", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], " ", "]"}], "]"}], " ", "/", "G"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"beforeGain", " ", "=", " ", "sensor"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"beforeGain", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "2"}], " ", "]"}], "]"}], " ", "=", " ", 
      RowBox[{"UnitConvert", "[", " ", 
       RowBox[{
        RowBox[{"sensor", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "2"}], " ", "]"}], "]"}], ",", "\"\<V\>\""}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"axesLabels", " ", "=", " ", 
      RowBox[{"{", " ", 
       RowBox[{"\"\<Weight (kg)\>\"", ",", " ", "\"\<Voltage (V)\>\""}], 
       "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", " ", 
     RowBox[{"ListPlot", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"afterGain", ",", " ", "beforeGain", ",", " ", 
         RowBox[{"{", 
          RowBox[{"{", 
           RowBox[{"80", ",", "amplifierInputVoltage"}], " ", "}"}], "}"}]}], 
        " ", "}"}], ",", 
       RowBox[{"AxesLabel", "\[Rule]", " ", "axesLabels"}], ",", " ", 
       RowBox[{"PlotLabels", "\[Rule]", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"\"\<After amplification\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "Large"}]}], "]"}], ",", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Raw sensor\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "Large"}]}], "]"}], ",", 
          RowBox[{"Style", "[", 
           RowBox[{"\"\<Maximum (Force, Voltage)\>\"", ",", 
            RowBox[{"FontSize", "\[Rule]", "Large"}]}], "]"}]}], "}"}]}], 
       "  ", ",", "\[IndentingNewLine]", " ", 
       RowBox[{"PlotLabel", "\[Rule]", 
        RowBox[{"Style", "[", 
         RowBox[{
          RowBox[{"\"\<Gain =  \>\"", " ", "<>", " ", 
           RowBox[{"ToString", "[", " ", "G", "]"}]}], ",", 
          RowBox[{"FontSize", "\[Rule]", "Large"}]}], "]"}]}], ",", " ", 
       RowBox[{"Joined", "\[Rule]", " ", 
        RowBox[{"{", 
         RowBox[{"True", ",", " ", "True", ",", " ", "False"}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"ImageSize", "\[Rule]", "Full"}], ",", "\[IndentingNewLine]", 
       RowBox[{"LabelStyle", "\[Rule]", "Bold"}]}], "]"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"G", ",", "gain"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQAGIQ3Tf9uLQA5xvHiqf6MiD61pT5CmC+xXk1EH32VJY2
iNYQ/w2mTx1rsgTRfe2PnUC0TriTJ4g+8cbLB0TPqloeAqKzQ7nCQfS/4F1T
QTTTvJZVIFotcN1eEJ2jMOUQiF6Ve+kEiH4+6+BDEP3y6J8XINrqJMdLEO27
nuMtiJ5vE/kRRAuJ7P0GolvWr/wOogt83orEA+ldlpPFQfSzyfquILqkbyGY
nnq0vBlERzX9BNNC1Q5SCUDaqTRVBkR3XwxRAdEm596Yg2hWtePWIPoK9xZb
EJ2VV+QJotX81aNAtN8S83QQvfaASw6IbppX0wumZ2VMAdHTHi6bBaJzKhNn
g+h9LBOXguggS73lIHqN6aw9IPpnevAJEA0Aa5yk1g==
  "],
 CellLabel->"In[51]:=",ExpressionUUID->"3dd24634-db42-4edc-a119-ab3cccded717"],

Cell[BoxData[
 TagBox[
  StyleBox[
   DynamicModuleBox[{$CellContext`G$$ = Quantity[0.5, "Millivolts"/"Volts"], 
    Typeset`show$$ = True, Typeset`bookmarkList$$ = {}, 
    Typeset`bookmarkMode$$ = "Menu", Typeset`animator$$, Typeset`animvar$$ = 
    1, Typeset`name$$ = "\"untitled\"", Typeset`specs$$ = {{
      Hold[$CellContext`G$$], {
       Quantity[0.5, "Millivolts"/"Volts"], 
       Quantity[1, "Millivolts"/"Volts"], 
       Quantity[1.5, "Millivolts"/"Volts"], 
       Quantity[2, "Millivolts"/"Volts"], 
       Quantity[2.5, "Millivolts"/"Volts"], 
       Quantity[3, "Millivolts"/"Volts"], 
       Quantity[4, "Millivolts"/"Volts"], 
       Quantity[10, "Millivolts"/"Volts"]}}}, Typeset`size$$ = {
    1194., {277., 283.}}, Typeset`update$$ = 0, Typeset`initDone$$, 
    Typeset`skipInitDone$$ = True, $CellContext`G$720025$$ = 0}, 
    DynamicBox[Manipulate`ManipulateBoxes[
     1, StandardForm, 
      "Variables" :> {$CellContext`G$$ = Quantity[0.5, "Millivolts"/"Volts"]},
       "ControllerVariables" :> {
        Hold[$CellContext`G$$, $CellContext`G$720025$$, 0]}, 
      "OtherVariables" :> {
       Typeset`show$$, Typeset`bookmarkList$$, Typeset`bookmarkMode$$, 
        Typeset`animator$$, Typeset`animvar$$, Typeset`name$$, 
        Typeset`specs$$, Typeset`size$$, Typeset`update$$, Typeset`initDone$$,
         Typeset`skipInitDone$$}, 
      "Body" :> ($CellContext`afterGain = $CellContext`sensor; 
       Part[$CellContext`afterGain, All, 2] = 
        Part[$CellContext`sensor, All, 
           2]/$CellContext`G$$; $CellContext`beforeGain = $CellContext`sensor; 
       Part[$CellContext`beforeGain, All, 2] = UnitConvert[
          Part[$CellContext`sensor, All, 2], "V"]; $CellContext`axesLabels = {
         "Weight (kg)", "Voltage (V)"}; 
       ListPlot[{$CellContext`afterGain, $CellContext`beforeGain, {{
           80, $CellContext`amplifierInputVoltage}}}, 
         AxesLabel -> $CellContext`axesLabels, PlotLabels -> {
           Style["After amplification", FontSize -> Large], 
           Style["Raw sensor", FontSize -> Large], 
           Style["Maximum (Force, Voltage)", FontSize -> Large]}, PlotLabel -> 
         Style[
           StringJoin["Gain =  ", 
            ToString[$CellContext`G$$]], FontSize -> Large], 
         Joined -> {True, True, False}, ImageSize -> Full, LabelStyle -> 
         Bold]), "Specifications" :> {{$CellContext`G$$, {
          Quantity[0.5, "Millivolts"/"Volts"], 
          Quantity[1, "Millivolts"/"Volts"], 
          Quantity[1.5, "Millivolts"/"Volts"], 
          Quantity[2, "Millivolts"/"Volts"], 
          Quantity[2.5, "Millivolts"/"Volts"], 
          Quantity[3, "Millivolts"/"Volts"], 
          Quantity[4, "Millivolts"/"Volts"], 
          Quantity[10, "Millivolts"/"Volts"]}}}, "Options" :> {}, 
      "DefaultOptions" :> {}],
     ImageSizeCache->{1241., {325., 332.}},
     SingleEvaluation->True],
    Deinitialization:>None,
    DynamicModuleValues:>{},
    SynchronousInitialization->True,
    UndoTrackedVariables:>{Typeset`show$$, Typeset`bookmarkMode$$},
    UnsavedVariables:>{Typeset`initDone$$},
    UntrackedVariables:>{Typeset`size$$}], "Manipulate",
   Deployed->True,
   StripOnInput->False],
  Manipulate`InterpretManipulate[1]]], "Output",
 CellChangeTimes->{
  3.763012306405601*^9, 3.7630124206949*^9, 3.763012451205471*^9, {
   3.7630127405940943`*^9, 3.763012762983398*^9}, {3.76301282170185*^9, 
   3.76301282775825*^9}, {3.763012916517396*^9, 3.76301292195814*^9}, {
   3.763013111764533*^9, 3.763013118697432*^9}, 3.763013153278761*^9, 
   3.763013187014476*^9},
 CellLabel->"Out[51]=",ExpressionUUID->"2b4c0446-9bd6-4e5a-8441-e57e87f02411"]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.763010097299819*^9, 3.763010101235807*^9}, {
  3.763010201165143*^9, 3.7630102657081633`*^9}, {3.763010351605543*^9, 
  3.763010360003647*^9}},ExpressionUUID->"a2244a88-424d-4808-bd9b-\
5e38ce09c895"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{
  "\"\</mountain/tmeessen/Documents/ULB/ProjectAnkle/Master \
Project/assets/gain_choice.gif\>\"", ",", "man", ",", " ", 
   RowBox[{"\"\<DisplayDurations\>\"", " ", "\[Rule]", " ", "1"}], ",", " ", 
   RowBox[{"\"\<AnimationRepetition\>\"", " ", "\[Rule]", " ", 
    RowBox[{"{", "3", "}"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.763010600759708*^9, 3.7630106300998993`*^9}, {
   3.763010876996229*^9, 3.763010894992548*^9}, {3.763011021950451*^9, 
   3.763011076410428*^9}, {3.76301112115709*^9, 3.763011122231695*^9}, 
   3.763011229644444*^9, {3.763013216599399*^9, 3.76301322229637*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"fb196eb4-02b4-4604-8150-48010f892638"],

Cell[BoxData["\<\"/mountain/tmeessen/Documents/ULB/ProjectAnkle/Master \
Project/assets/gain_choice.gif\"\>"], "Output",
 CellChangeTimes->{3.76301067476475*^9, 3.763010939377514*^9, 
  3.76301108331282*^9, 3.7630111217539873`*^9, 3.763011171067995*^9, 
  3.763011274963787*^9, 3.7630132728504133`*^9},
 CellLabel->"Out[52]=",ExpressionUUID->"a53418dc-56a9-4ed4-941b-c14d4ea40964"]
}, Open  ]]
},
WindowSize->{Full, Full},
WindowMargins->{{0, Automatic}, {0, Automatic}},
FrontEndVersion->"11.3 for Linux x86 (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 190, 3, 36, "Text",ExpressionUUID->"d509c77c-f291-4c78-adb1-067bea8a9111"],
Cell[751, 25, 2075, 52, 78, "Input",ExpressionUUID->"8baa1091-7813-4558-96ed-643a390a3836"],
Cell[2829, 79, 171, 3, 36, "Text",ExpressionUUID->"b779327a-5659-4a44-8aac-96f76e5b4330"],
Cell[3003, 84, 846, 18, 55, "Input",ExpressionUUID->"d8d5bbc1-d8cd-4713-a993-3de8c5c922b4"],
Cell[3852, 104, 186, 3, 36, "Text",ExpressionUUID->"5ba359d2-0809-499e-9eb0-2370ab483667"],
Cell[CellGroupData[{
Cell[4063, 111, 3403, 78, 331, "Input",ExpressionUUID->"3dd24634-db42-4edc-a119-ab3cccded717"],
Cell[7469, 191, 3668, 72, 676, "Output",ExpressionUUID->"2b4c0446-9bd6-4e5a-8441-e57e87f02411"]
}, Open  ]],
Cell[11152, 266, 249, 4, 31, "Input",ExpressionUUID->"a2244a88-424d-4808-bd9b-5e38ce09c895"],
Cell[CellGroupData[{
Cell[11426, 274, 726, 12, 55, "Input",ExpressionUUID->"fb196eb4-02b4-4604-8150-48010f892638"],
Cell[12155, 288, 381, 5, 35, "Output",ExpressionUUID->"a53418dc-56a9-4ed4-941b-c14d4ea40964"]
}, Open  ]]
}
]
*)

